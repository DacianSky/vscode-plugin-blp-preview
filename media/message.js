(()=>{"use strict";var e={d:(t,s)=>{for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>s});class s{timeout=[];requestsMap={};constructor(){window.addEventListener("message",(async e=>{console.info("recevie",e),this.requestsMap[e.data.requestId]&&(this.requestsMap[e.data.requestId].resolve(e.data.data),delete this.requestsMap[e.data.requestId])}))}async load(){return await this._trans("load")}async loadBlp(e){return await this._trans("loadBlp",e)}_trans(e,t=null,s=-1){const a=parseInt((Math.random()+"").slice(2),10),r={requestId:a,resolve:null},o=new Promise(((o,d)=>{r.resolve=o,s>0&&setTimeout((()=>{delete this.requestsMap[a],d(`call method ${e} data=${t} timeout ${s}`)}),s)}));return this.requestsMap[a]=r,console.info("request",r),vscode.postMessage({type:e,requestId:a,data:t}),o}}window.message=new s,module.exports=t})();